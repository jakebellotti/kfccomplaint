<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KFC Complaints Register</title>
    <link rel="stylesheet" href="complaints.css">
    <script defer src="complaints.js"></script>
    <script defer src="js/materialize.js"></script>
    <link rel="stylesheet" href="fonts/MaterialIcons.css">
    <link rel="stylesheet" href="css/materialize.css">
</head>
<body>

<div id="settings-container">
    <button onclick="showSettingsWindow();" class="waves-light btn">Settings</button>
    <button onclick="showReportsWindow();" class="waves-light btn">Reports</button>
    <button onclick="showAboutWindow();" class="waves-light btn">About</button>
</div>

<header>
    <img src="kfclogo.png">
    <p>KFC Complaints Register</p>
</header>

<!--Show complaints-->
<div id="show-complaints">
    <!--    TODO maybe filter by date range-->

    <div class="show-complaints-filter">
        <div id="show-complaints-buttons">
            <button id="filter-button-open" onclick="filterButtonClicked(this)" class="waves-light btn darken-4">
                Open
            </button>
            <button onclick="filterButtonClicked(this)" class="waves-light btn darken-4">Closed</button>
            <button onclick="filterButtonClicked(this)" class="waves-light btn darken-4">All</button>
        </div>
        <input oninput="updateResultsAccordingToSearch()" id="show-complaints-filter-search-name-input" type="text"
               placeholder="Search name...">
        <p id="total-results-text">Showing 0 of 10 results</p>
    </div>

    <div class="shown-complaints-button-container">
        <button class="waves-light btn" onclick="showAddComplaintWindow();">Add Complaint</button>
        <!--    <button class="waves-light btn" onclick="localStorage.clear()">Clear</button>-->
    </div>
    <div class="card-panel teal lighten-2 show-complaints-table" style="margin: 5px">
        <table class="centered">
            <thead>
            <tr>
                <th>Date</th>
                <th>Name</th>
                <th>Number</th>
                <th>Complaint Nature</th>
                <th>Staff Involved</th>
                <th>Description</th>
                <th>Credit Items</th>
                <th>Offered By</th>
                <th>Resolved</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody id="shown-complaints-tbody">
            </tbody>
        </table>
    </div>
</div>

<!--Add a complaint window-->
<div style="display: none;" class="modal-window-overlay" id="add-complaint-modal">

    <div class="add-complaint-window">
        <p class="modal-window-header">Add A Complaint</p>

        <div class="customer-details-container">
            <div>
                <p>Date</p>
                <input id="add-complaint-date" type="date">
            </div>

            <div>
                <p>Customer Name</p>
                <input id="add-complaint-customer-name" type="text" placeholder="Customer Name">
            </div>

            <div>
                <p>Customer Number</p>
                <input id="add-complaint-customer-number" type="text" placeholder="Customer Number">
            </div>
        </div>

        <!--        TODO make with check boxes-->
        <!--        TODO display aloneside each-->

        <div class="select-view-2">
            <div class="add-button-container-div">
                <p>Nature Of Complaint</p>
                <select id="add-complaint-nature-select" class="complaint-nature-select" multiple></select>
                <i class="add-button-button material-icons" onclick="addToComplaintNaturePrompt()">add</i>
            </div>

            <div class="add-button-container-div">
                <p>Credit Offered By</p>
                <select id="add-complaint-credit-offered-by-select" class="credit-offered-by-select"
                        name="credit-offered-by" multiple>
                </select>
                <i class="add-button-button material-icons" onclick="addToManagerListPrompt()">add</i>
            </div>
        </div>

        <div>
            <p>Staff Involved</p>
            <div class="staff-involved-container">
                <select id="staff-involved-select" class="show-select">
                    <option>Jake A</option>
                    <option>Jake B</option>
                    <option>Jake C</option>
                    <option>Jake D</option>
                    <option>Ian</option>
                </select>
                <select id="staff-involved-role-select" class="show-select">
                    <option>D/T Order Taking</option>
                    <option>D/T Thru Pack</option>
                    <option>D/T Thru Hand Out</option>
                    <option>Lobby</option>
                    <option>Burger Bar</option>
                    <option>Kitchen</option>
                </select>
                <button id="staff-involved-add-button" onclick="staffInvolvedAddButtonClicked()" class="waves-light btn">Add</button>
            </div>
            <table class="centered card-panel teal lighten-2">
                <thead>
                <tr>
                    <th>Staff Member</th>
                    <th>Staff Role</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody id="staff-involved-tbody">
                </tbody>
            </table>
        </div>

        <div class="add-complaint-window-description-wrapper">
            <div>
                <p>Order Description</p>
                <textarea id="add-complaint-order-description" class="custom-textarea"></textarea>
            </div>
            <div>
                <p>Credit Description</p>
                <textarea id="add-complaint-credit-description" class="custom-textarea"></textarea>
            </div>
        </div>

        <div class="add-complaint-window-buttons">
            <button class="waves-light btn" onclick="addComplaintWindow_AddButtonClicked();">Add Complaint</button>
            <button class="waves-light btn" onclick="addComplaintWindow_CancelButtonClicked()">Cancel</button>
        </div>
    </div>
</div>

<!--Settings window-->
<div id="settings-window" style="display: none;" class="modal-window-overlay">
    <div class="modal-window">
        <p class="modal-window-header">Settings</p>
        <div class="settings-window-options-container">
            <!--            TODO finish-->
            <button class="waves-light btn" onclick="settings_backupDataButtonClicked()">Backup Data</button>
            <button class="waves-light btn" onclick="alert('Not yet implemented.')">Import Data</button>
        </div>
        <div class="settings-window-button-container">
            <button class="waves-light btn" onclick="hideSettingsWindow();">Close</button>
        </div>
    </div>
</div>

<!--Resolve complaint window-->
<div style="display: none;" id="resolve-complaint-window" class="modal-window-overlay">
    <div class="modal-window">
        <p class="modal-window-header">Resolve Complaint</p>

        <div>
            <div class="add-button-container-div">
                <p>Credit Closed By</p>
                <select id="resolve-complaint-closed-by-select" style="min-height: 140px;"
                        class="credit-offered-by-select"
                        name="credit-offered-by" multiple>
                </select>
                <i class="add-button-button material-icons" onclick="addToManagerListPrompt()">add</i>
            </div>
            <div>
                <input id="resolve-complaint-promo-free" type="text" placeholder="Promo Free Receipt Number">
            </div>

            <div class="resolve-complaint-buttons-container">
                <button class="waves-light btn" onclick="resolveComplaint_SaveButtonClicked();">Save</button>
                <button class="waves-light btn" onclick="hideShowResolveComplaintWindow();">Cancel</button>
            </div>
        </div>
    </div>
</div>

<!--Reports window-->
<div style="display: none;" id="reports-window" class="modal-window-overlay">
    <div class="modal-window">
        <p class="modal-window-header">Reports</p>
        <div id="reports-window-results-container"></div>
        <div class="settings-window-button-container">
            <button class="waves-light btn" onclick="hideReportsWindow();">Close</button>
        </div>
    </div>
</div>

</body>
</html>