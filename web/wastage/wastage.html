<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wastage</title>
    <link rel="stylesheet" href="wastage.css">
    <link rel="stylesheet" href="../main.css">

    <script src="../../lib/moment.min.js"></script>
    <script src="../../lib/DateUtils.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-functions.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-firestore.js"></script>

    <!--    TODO externalize-->
    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        let firebaseConfig = {
            apiKey: "AIzaSyBbdMJFKUbHYf-ZnTaOA8duLA466C55GG8",
            authDomain: "kfc-cloud-wastage.firebaseapp.com",
            projectId: "kfc-cloud-wastage",
            storageBucket: "kfc-cloud-wastage.appspot.com",
            databaseURL: "https://kfc-cloud-wastage-default-rtdb.firebaseio.com/",
            messagingSenderId: "984801089093",
            appId: "1:984801089093:web:b005d7649f704e67e0b52c",
            measurementId: "G-0J2EHJNKD5"
        };
        // Initialize Firebase
        let db = firebase.initializeApp(firebaseConfig)

        let database = firebase.database();

    </script>

    <script src="wastageData.js"></script>
    <script src="wastage.js" defer></script>
    <script src="../main.js" defer></script>
</head>
<body>
<div class="kfc-cloud-header">
    <div class="kfc-cloud-header-side-container">
        <img class="kfc-cloud-header-logo" src="../kfclogo.png" height="30px" width="30"/>
        <p class="kfc-cloud-header-text">KFC CLOUD</p>
    </div>
    <p class="kfc-cloud-header-current-page">Wastage</p>
    <div class="kfc-cloud-header-side-container">
        <select onchange="headerPageSelectChanged(this);" class="kfc-cloud-header-page-select">
            <option value="../complaints/complaints.html">Complaints</option>
            <option value="../count/count.html">Count</option>
            <option value="../reconciliation/">Daily Reconciliation</option>
            <option value="../wastage/wastage.html" selected>Wastage</option>
        </select>
    </div>
</div>

<!--TODO maybe include some sort of header on all pages, that contains links to all pages-->

<div class="week-start-container">
    <p>Week Start: </p>
    <input id="week-start-date-input" type="date">
    <button onclick="backOneWeekButtonClicked();">Back 1 Week</button>
    <button onclick="forwardOneWeekButtonClicked();">Forward 1 Week</button>
    <button onclick="setToCurrentWeekButtonClicked();">Set To Current Week</button>
</div>
<div id="select-date-button-container">

</div>
<p id="current-wastage-sheet-header"></p>
<div class="actions-div">
    <p class="total-wastage">Total: <span id="total-wastage-amount">$0.00</span></p>
    <button class="save-button" onclick="saveWastage();">Save</button>
</div>
<div id="enter-wastage-div">
</div>

<div id="loading-overlay">
    <p id="loading-overlay-text"></p>
</div>

<!--TODO overview-->
<!--TODO enter for today-->
<!--TODO build from list-->
<!--TODO include promo items in data, but don't show by default. Make a function to override the data-->

</body>
</html>